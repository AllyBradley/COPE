# -*- coding: utf-8 -*-
# Generated by Django 1.10.6 on 2017-03-17 01:01
from __future__ import unicode_literals

from django.db import migrations, models
from django.contrib.auth.models import Group
from django.contrib.auth.management import create_permissions

from wp4.tests.utils.setup import get_permission_dictionary


def make_permissions(apps, schema_editor):
    # http://stackoverflow.com/questions/38491215/programmatically-creating-a-group-cant-access-permissions-from-migration/38491679#38491679
    # http://stackoverflow.com/questions/31735042/adding-django-admin-permissions-in-a-migration-permission-matching-query-does-n
    for app_config in apps.get_app_configs():
        app_config.models_module = True
        create_permissions(app_config, apps=apps, verbosity=0)
        app_config.models_module = None


def add_groups(apps, schema_editor):
    pd = get_permission_dictionary()

    group, created = Group.objects.get_or_create(name="Perfusion Technicians")
    if created:
        group.permissions.add(pd["compare__donor"]["plist"]["add_donor"])
        group.permissions.add(pd["compare__donor"]["plist"]["change_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["add_organ"])
        group.permissions.add(pd["compare__organ"]["plist"]["change_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["add_organallocation"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["change_organallocation"])
        group.permissions.add(pd["compare__patient"]["plist"]["add_patient"])
        group.permissions.add(pd["compare__patient"]["plist"]["change_patient"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["add_procurementresource"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["change_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["change_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["add_recipient"])
        group.permissions.add(pd["compare__recipient"]["plist"]["change_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["change_bloodsample"])
        group.permissions.add(pd["samples__event"]["plist"]["change_event"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["change_perfusatesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["change_tissuesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["change_urinesample"])
        group.permissions.add(pd["staff__person"]["plist"]["add_person"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Transplant Co-ordinators")
    if created:
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Research Nurse / Follow-up")
    if created:
        group.permissions.add(pd["compare__donor"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__donor"]["plist"]["view_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["view_organallocation"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["view_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["hide_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["change_followup1y"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["change_followup3m"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["change_followup6m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["change_followupinitial"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["change_qualityoflife"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="National Co-ordinator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["view_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__donor"]["plist"]["add_donor"])
        group.permissions.add(pd["compare__donor"]["plist"]["change_donor"])
        group.permissions.add(pd["compare__donor"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__organ"]["plist"]["add_organ"])
        group.permissions.add(pd["compare__organ"]["plist"]["change_organ"])
        group.permissions.add(pd["compare__organ"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["add_organallocation"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["change_organallocation"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["add_procurementresource"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["change_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["change_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["add_recipient"])
        group.permissions.add(pd["compare__recipient"]["plist"]["change_recipient"])
        group.permissions.add(pd["compare__recipient"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["add_retrievalteam"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["change_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["change_followup1y"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["change_followup3m"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["change_followup6m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["change_followupinitial"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["add_qualityoflife"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["change_qualityoflife"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["add_machine"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["change_machine"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["change_bloodsample"])
        group.permissions.add(pd["samples__event"]["plist"]["change_event"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["change_perfusatesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["change_tissuesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["change_urinesample"])
        group.permissions.add(pd["staff__person"]["plist"]["add_person"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Central Co-ordinator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["add_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["change_category"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["compare__donor"]["plist"]["add_donor"])
        group.permissions.add(pd["compare__donor"]["plist"]["change_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["add_organ"])
        group.permissions.add(pd["compare__organ"]["plist"]["change_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["add_organallocation"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["change_organallocation"])
        group.permissions.add(pd["compare__patient"]["plist"]["add_patient"])
        group.permissions.add(pd["compare__patient"]["plist"]["change_patient"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["add_procurementresource"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["change_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["change_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["add_recipient"])
        group.permissions.add(pd["compare__recipient"]["plist"]["change_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["add_retrievalteam"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["change_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["change_followup1y"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["change_followup3m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["change_followup6m"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["change_followupinitial"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["add_qualityoflife"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["change_qualityoflife"])
        group.permissions.add(pd["health_economics__resourcehospitaladmission"]["plist"]["add_resourcehospitaladmission"])
        group.permissions.add(pd["health_economics__resourcehospitaladmission"]["plist"]["change_resourcehospitaladmission"])
        group.permissions.add(pd["health_economics__resourcelog"]["plist"]["add_resourcelog"])
        group.permissions.add(pd["health_economics__resourcelog"]["plist"]["change_resourcelog"])
        group.permissions.add(pd["health_economics__resourcerehabilitation"]["plist"]["add_resourcerehabilitation"])
        group.permissions.add(pd["health_economics__resourcerehabilitation"]["plist"]["change_resourcerehabilitation"])
        group.permissions.add(pd["health_economics__resourcevisit"]["plist"]["add_resourcevisit"])
        group.permissions.add(pd["health_economics__resourcevisit"]["plist"]["change_resourcevisit"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["add_machine"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["change_machine"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["change_bloodsample"])
        group.permissions.add(pd["samples__event"]["plist"]["change_event"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["change_perfusatesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["change_tissuesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["change_urinesample"])
        group.permissions.add(pd["staff__person"]["plist"]["add_person"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Statistician")
    if created:
        # group.permissions.add(pd[""]['plist'][""])
        group.save()
    group, created = Group.objects.get_or_create(name="Sys-admin")
    if created:
        group.permissions.add(pd["admin__logentry"]["plist"]["add_logentry"])
        group.permissions.add(pd["admin__logentry"]["plist"]["change_logentry"])
        group.permissions.add(pd["admin__logentry"]["plist"]["delete_logentry"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["add_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["change_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["delete_category"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["delete_event"])
        group.permissions.add(pd["auth__group"]["plist"]["add_group"])
        group.permissions.add(pd["auth__group"]["plist"]["change_group"])
        group.permissions.add(pd["auth__group"]["plist"]["delete_group"])
        group.permissions.add(pd["auth__permission"]["plist"]["add_permission"])
        group.permissions.add(pd["auth__permission"]["plist"]["change_permission"])
        group.permissions.add(pd["auth__permission"]["plist"]["delete_permission"])
        group.permissions.add(pd["compare__donor"]["plist"]["add_donor"])
        group.permissions.add(pd["compare__donor"]["plist"]["change_donor"])
        group.permissions.add(pd["compare__donor"]["plist"]["delete_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["add_organ"])
        group.permissions.add(pd["compare__organ"]["plist"]["change_organ"])
        group.permissions.add(pd["compare__organ"]["plist"]["delete_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["add_organallocation"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["change_organallocation"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["delete_organallocation"])
        group.permissions.add(pd["compare__patient"]["plist"]["add_patient"])
        group.permissions.add(pd["compare__patient"]["plist"]["change_patient"])
        group.permissions.add(pd["compare__patient"]["plist"]["delete_patient"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["add_procurementresource"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["change_procurementresource"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["delete_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["add_randomisation"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["change_randomisation"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["delete_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["add_recipient"])
        group.permissions.add(pd["compare__recipient"]["plist"]["change_recipient"])
        group.permissions.add(pd["compare__recipient"]["plist"]["delete_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["add_retrievalteam"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["change_retrievalteam"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["delete_retrievalteam"])
        group.permissions.add(pd["contenttypes__contenttype"]["plist"]["add_contenttype"])
        group.permissions.add(pd["contenttypes__contenttype"]["plist"]["change_contenttype"])
        group.permissions.add(pd["contenttypes__contenttype"]["plist"]["delete_contenttype"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["add_followup1y"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["change_followup1y"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["delete_followup1y"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["add_followup3m"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["change_followup3m"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["delete_followup3m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["add_followup6m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["change_followup6m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["delete_followup6m"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["add_followupinitial"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["change_followupinitial"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["delete_followupinitial"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["add_qualityoflife"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["change_qualityoflife"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["delete_qualityoflife"])
        group.permissions.add(pd["health_economics__resourcehospitaladmission"]["plist"]["add_resourcehospitaladmission"])
        group.permissions.add(pd["health_economics__resourcehospitaladmission"]["plist"]["change_resourcehospitaladmission"])
        group.permissions.add(pd["health_economics__resourcehospitaladmission"]["plist"]["delete_resourcehospitaladmission"])
        group.permissions.add(pd["health_economics__resourcelog"]["plist"]["add_resourcelog"])
        group.permissions.add(pd["health_economics__resourcelog"]["plist"]["change_resourcelog"])
        group.permissions.add(pd["health_economics__resourcelog"]["plist"]["delete_resourcelog"])
        group.permissions.add(pd["health_economics__resourcerehabilitation"]["plist"]["add_resourcerehabilitation"])
        group.permissions.add(pd["health_economics__resourcerehabilitation"]["plist"]["change_resourcerehabilitation"])
        group.permissions.add(pd["health_economics__resourcerehabilitation"]["plist"]["delete_resourcerehabilitation"])
        group.permissions.add(pd["health_economics__resourcevisit"]["plist"]["add_resourcevisit"])
        group.permissions.add(pd["health_economics__resourcevisit"]["plist"]["change_resourcevisit"])
        group.permissions.add(pd["health_economics__resourcevisit"]["plist"]["delete_resourcevisit"])
        group.permissions.add(pd["locations__hospital"]["plist"]["add_hospital"])
        group.permissions.add(pd["locations__hospital"]["plist"]["change_hospital"])
        group.permissions.add(pd["locations__hospital"]["plist"]["delete_hospital"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["add_machine"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["change_machine"])
        group.permissions.add(pd["perfusion_machine__machine"]["plist"]["delete_machine"])
        group.permissions.add(pd["reversion__revision"]["plist"]["add_revision"])
        group.permissions.add(pd["reversion__revision"]["plist"]["change_revision"])
        group.permissions.add(pd["reversion__revision"]["plist"]["delete_revision"])
        group.permissions.add(pd["reversion__version"]["plist"]["add_version"])
        group.permissions.add(pd["reversion__version"]["plist"]["change_version"])
        group.permissions.add(pd["reversion__version"]["plist"]["delete_version"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["add_bloodsample"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["change_bloodsample"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["delete_bloodsample"])
        group.permissions.add(pd["samples__event"]["plist"]["add_event"])
        group.permissions.add(pd["samples__event"]["plist"]["change_event"])
        group.permissions.add(pd["samples__event"]["plist"]["delete_event"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["add_perfusatesample"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["change_perfusatesample"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["delete_perfusatesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["add_tissuesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["change_tissuesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["delete_tissuesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["add_urinesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["change_urinesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["delete_urinesample"])
        group.permissions.add(pd["sessions__session"]["plist"]["add_session"])
        group.permissions.add(pd["sessions__session"]["plist"]["change_session"])
        group.permissions.add(pd["sessions__session"]["plist"]["delete_session"])
        group.permissions.add(pd["sites__site"]["plist"]["add_site"])
        group.permissions.add(pd["sites__site"]["plist"]["change_site"])
        group.permissions.add(pd["sites__site"]["plist"]["delete_site"])
        group.permissions.add(pd["staff__person"]["plist"]["add_person"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.permissions.add(pd["staff__person"]["plist"]["delete_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Local Investigator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["view_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__organ"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["hide_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["restrict_to_local"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Other Project Member")
    if created:
        # group.permissions.add(pd[""]['plist'][""])
        group.save()
    group, created = Group.objects.get_or_create(name="Biobank Coordinator")
    if created:
        group.permissions.add(pd["compare__donor"]["plist"]["view_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["view_organallocation"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["view_procurementresource"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["samples__bloodsample"]["plist"]["change_bloodsample"])
        group.permissions.add(pd["samples__event"]["plist"]["change_event"])
        group.permissions.add(pd["samples__perfusatesample"]["plist"]["change_perfusatesample"])
        group.permissions.add(pd["samples__tissuesample"]["plist"]["change_tissuesample"])
        group.permissions.add(pd["samples__urinesample"]["plist"]["change_urinesample"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Chief Investigator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["add_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["change_category"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["compare__donor"]["plist"]["view_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["view_organallocation"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["view_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["hide_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["view_followup1y"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["view_followup3m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["view_followup6m"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["view_followupinitial"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["view_qualityoflife"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Principle Investigator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["add_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["change_category"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["compare__donor"]["plist"]["view_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["view_organallocation"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["view_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["hide_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["view_followup1y"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["view_followup3m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["view_followup6m"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["view_followupinitial"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["view_qualityoflife"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Central Investigator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["add_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["change_category"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["compare__donor"]["plist"]["view_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["view_organallocation"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["view_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["hide_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["view_followup1y"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["view_followup3m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["view_followup6m"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["view_followupinitial"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["view_qualityoflife"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="National Investigator")
    if created:
        group.permissions.add(pd["adverse_event__category"]["plist"]["add_category"])
        group.permissions.add(pd["adverse_event__category"]["plist"]["change_category"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["add_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["change_event"])
        group.permissions.add(pd["adverse_event__event"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__donor"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__donor"]["plist"]["view_donor"])
        group.permissions.add(pd["compare__organ"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__organ"]["plist"]["view_organ"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__organallocation"]["plist"]["view_organallocation"])
        group.permissions.add(pd["compare__procurementresource"]["plist"]["view_procurementresource"])
        group.permissions.add(pd["compare__randomisation"]["plist"]["hide_randomisation"])
        group.permissions.add(pd["compare__recipient"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__recipient"]["plist"]["view_recipient"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["compare__retrievalteam"]["plist"]["view_retrievalteam"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followup1y"]["plist"]["view_followup1y"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followup3m"]["plist"]["view_followup3m"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followup6m"]["plist"]["view_followup6m"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["followups__followupinitial"]["plist"]["view_followupinitial"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["restrict_to_national"])
        group.permissions.add(pd["health_economics__qualityoflife"]["plist"]["view_qualityoflife"])
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()
    group, created = Group.objects.get_or_create(name="Transplant Theatre Contact")
    if created:
        group.permissions.add(pd["staff__person"]["plist"]["change_person"])
        group.save()


class Migration(migrations.Migration):

    dependencies = [
        ('staff', '0001_initial'),
        ('compare', '0002_auto_20170317_0136'),
        ('adverse_event', '0002_auto_20170317_0136'),
    ]

    operations = [
        migrations.RunPython(make_permissions),
        migrations.RunPython(add_groups),
    ]
