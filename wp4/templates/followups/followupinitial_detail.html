{% extends "base_site.html" %}
{% load l10n i18n theme_tags %}

{% block page_title %}Initial (Days 1-7) - Follow Up{% endblock %}
{% block page_header %}
    Initial (Days 1-7) - Follow Up
    <small>Case ID: {{ initial_obj.trial_id }}</small>
{% endblock %}
{% block page_trail %}
    <li><a href="{% url 'home' %}">Home</a></li>
    <li><a href="{% url 'wp4:index' %}">WP4: Compare</a></li>
    <li><a href="{% url 'wp4:followup:index' %}">Follow Up</a></li>
    <li><a href="{% url 'wp4:followup:initial_list' %}">Initial</a></li>
    <li class="active">View Report for {{ initial_obj.trial_id }}</li>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-4">
            <h3>Overview</h3>
            <dl class="dl-horizontal">
                <dt>{% get_verbose_field_name initial_obj "start_date" %}</dt>
                <dd>{{ initial_obj.start_date|date:"D d M Y" }}</dd>
            </dl>
            <h3>Graft</h3>
            <dl class="dl-horizontal">
                <dt>Graft Failure?</dt>
                <dd>{{ initial_obj.graft_failure|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "graft_failure_type" %}</dt>
                <dd>{{ initial_obj.get_graft_failure_type_display }}</dd>
                <dt>{% get_verbose_field_name initial_obj "graft_failure_type_other" %}</dt>
                <dd>{{ initial_obj.graft_failure_type_other }}</dd>
                <dt>{% get_verbose_field_name initial_obj "graft_failure_date" %}</dt>
                <dd>{{ initial_obj.graft_failure_date|date:"D d M Y" }}</dd>
                <dt>Graft Removal?</dt>
                <dd>{{ initial_obj.graft_removal|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "graft_removal_date" %}</dt>
                <dd>{{ initial_obj.graft_removal_date|date:"D d M Y" }}</dd>
            </dl>

            <h3>HLA</h3>
            <dl class="dl-horizontal">
                <dt>{% get_verbose_field_name initial_obj "hla_mismatch_a" %}</dt>
                <dd>{{ initial_obj.hla_mismatch_a|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "hla_mismatch_b" %}</dt>
                <dd>{{ initial_obj.hla_mismatch_b|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "hla_mismatch_dr" %}</dt>
                <dd>{{ initial_obj.hla_mismatch_dr|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "induction_therapy" %}</dt>
                <dd>{{ initial_obj.get_induction_therapy_display }}</dd>
                <dt>{% get_verbose_field_name initial_obj "immunosuppression" %}</dt>
                <dd>{{ initial_obj.get_immunosuppression_display }}</dd>
                <dt>{% get_verbose_field_name initial_obj "immunosuppression_other" %}</dt>
                <dd>{{ initial_obj.immunosuppression_other }}</dd>
            </dl>
        </div>
        <div class="col-md-4">
            <h3>Serum</h3>
            <dl class="dl-horizontal">
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_1" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_1|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_1_unit_display }})</dd>
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_2" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_2|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_2_unit_display }})</dd>
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_3" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_3|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_3_unit_display }})</dd>
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_4" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_4|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_4_unit_display }})</dd>
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_5" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_5|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_5_unit_display }})</dd>
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_6" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_6|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_6_unit_display }})</dd>
                <dt>{% get_verbose_field_name initial_obj "serum_creatinine_7" %}</dt>
                <dd>{{ initial_obj.serum_creatinine_7|default_if_none:"Unanswered" }} ({{ initial_obj.get_serum_creatinine_7_unit_display }})</dd>
            </dl>
            <h3>Rejection</h3>
            <dl class="dl-horizontal">
                <dt>{% get_verbose_field_name initial_obj "rejection" %}</dt>
                <dd>{{ initial_obj.rejection|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "rejection_prednisolone" %}</dt>
                <dd>{{ initial_obj.rejection_prednisolone|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "rejection_drug" %}</dt>
                <dd>{{ initial_obj.rejection_drug|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "rejection_drug_other" %}</dt>
                <dd>{{ initial_obj.rejection_drug_other }}</dd>
                <dt>{% get_verbose_field_name initial_obj "rejection_biopsy" %}</dt>
                <dd>{{ initial_obj.rejection_biopsy|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "calcineurin" %}</dt>
                <dd>{{ initial_obj.calcineurin|default:"Unanswered" }}</dd>
                <dt>{% get_verbose_field_name initial_obj "discharge_date" %}</dt>
                <dd>{{ initial_obj.discharge_date|date:"D d M Y" }}</dd>
            </dl>
        </div>
        <div class="col-md-4">
            <h3>Dialysis</h3>
            <dl class="dl-horizontal">
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_1" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_1|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_2" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_2|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_3" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_3|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_4" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_4|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_5" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_5|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_6" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_6|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_requirement_7" %}</dt>
                <dd>{{ initial_obj.dialysis_requirement_7|yesno|default_if_none:"unanswered"|capfirst }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_type" %}</dt>
                <dd>{{ initial_obj.get_dialysis_type_display }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_cause" %}</dt>
                <dd>{{ initial_obj.get_dialysis_cause_display }}</dd>
                <dt>{% get_verbose_field_name initial_obj "dialysis_cause_other" %}</dt>
                <dd>{{ initial_obj.dialysis_cause_other }}</dd>
            </dl>
            <h3>Notes</h3>
            <dl>
                <dt>{% get_verbose_field_name initial_obj "notes" %}</dt>
                <dd>{{ initial_obj.notes }}</dd>
            </dl>
        </div>
    </div>
{% endblock %}


{% block footer_nav %}
    <nav class="navbar navbar-default navbar-fixed-bottom">
        <div class="container">
            <div class="navbar-right">
                <a href="{% url "wp4:followup:initial_update" pk=initial_obj.pk %}" class="btn btn-primary navbar-btn"
                   id="nav_button_edit">Edit</a>
            </div>
        </div>
    </nav>
{% endblock %}